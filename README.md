Creating a custom socks proxy agent for HTTPS communications